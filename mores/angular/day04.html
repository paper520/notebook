<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset='utf-8'>
    <title>离线小助手</title>
    <link rel="icon" href="../../favicon.ico" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no,maximum-scale=1" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="format-detection" content="email=no" />
    <meta name="Keywords" content="离线小助手" />
    <meta name="description" content="离线小助手" />
    <meta name="author" content="心叶" />
    <link rel="apple-touch-icon" sizes="52x52" href="52icon.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="72icon.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="120icon.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="144icon.png" />
    <link rel="stylesheet" href="../../easycss-1.0.0.css">
    <link rel="stylesheet" href="../../style.css">
    <link rel="stylesheet" href="../../notebooks/style.css">
</head>

<body>
    <header>
        <ul>
            <li onclick='window.location.href="https://github.com/yelloxing/yelloxing.github.io"'>离线小助手</li>
            <li onclick='window.location.href="../../index.html#/apis"'>API查询</li>
            <li onclick='window.location.href="../../index.html#/notebooks"'>文档笔记</li>
            <li onclick='window.location.href="../../index.html#/tools"'>小工具</li>
            <li onclick='window.location.href="../../index.html#/subjects"'>专题学习</li>
            <li onclick='window.location.href="../../index.html#/components"'>自定义组件</li>
            <li onclick='window.location.href="../../index.html#/mores"'>流水学习</li>
            <li onclick='window.location.href="../../index.html#/others"'>其它</li>
            <li>
                <input type="text" placeholder="search...">
            </li>
        </ul>
    </header>
    <em class='position'>当前位置：更多 / 框架或类库 / Angular系统学习随手笔记 / [04] 父子组件之间的交互（常见的组件通讯场景）</em>
    <section>
        <div class="title">通过输入型绑定把数据从父组件传到子组件</div>
        <div class="block">
            通过@Input()可以实现父组件传递数据给子组件，下面先看看子组件代码：
        </div>
        <pre class="code">
import { Component, Input } from '@angular/core';
            
@Component({

    selector: 'child-comp',

    template: `
        &lt;section&gt;
            &lt;header&gt;{{title}}&lt;/header&gt;
            &lt;p&gt;{{message}}&lt;/p&gt;
        &lt;/section&gt;
    `

})
export class ChildComponent {

    @Input() title: string;

    @Input('msg') message: string;

}</pre>
        <div class="block">
            其中@Input('msg')是为message定义了别名，接着，在父组件中通过属性就可以传递值进来了：
        </div>
        <div class="code">
            &lt;child-comp title="数据传递" msg="这是数据传递演示"&gt;&lt;/child-comp&gt;
        </div>
    </section>
    <section>
        <div class="title">父组件通过监听子组件的事件获取子组件传递的数据</div>
        <div class="block">
            子组件传递数据给父组件是通过emit的方式，先看一下子组件代码：
        </div>
        <pre class="code">
import { Component, Input, Output, EventEmitter } from '@angular/core';
                
@Component({

    selector: 'child-comp',

    template: '&lt;button (click)="doit(\'来自子组件的数据\')"&gt;按钮&lt;/button&gt;'

})
export class ChildComponent {

    @Output() onDoit = new EventEmitter&lt;string&gt;();
                
    doit(info: string) {

        this.onDoit.emit(info);

    }
}</pre>
        <div class="block">
            通过@Output()触发父组件里面定义的onDoit事件，因此，需要在父组件中注册事件处理方法：
        </div>
        <div class="code">
            &lt;child-comp (onDoit)="getInfo($event)"&gt;&lt;/child-comp&gt;
        </div>
        <div class="block">
            getInfo是定义的一个方法，$event就是子组件传递的数据，点击子组件的按钮就会触发这个方法（弹出一句话），方法代码如下：
        </div>
        <pre class="code">
......
    
    getInfo(info:string){
        alert(info);
    }

......                
</pre>
    </section>
    <footer>
        心叶 &copy;2007-2019 走一步，再走一步
    </footer>
</body>

</html>