<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset='utf-8'>
    <title>离线小助手</title>
    <link rel="icon" href="../../favicon.ico" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no,maximum-scale=1" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="format-detection" content="email=no" />
    <meta name="Keywords" content="离线小助手" />
    <meta name="description" content="离线小助手" />
    <meta name="author" content="心叶" />
    <link rel="apple-touch-icon" sizes="52x52" href="52icon.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="72icon.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="120icon.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="144icon.png" />
    <link rel="stylesheet" href="../../easycss-1.0.0.css">
    <link rel="stylesheet" href="../../style.css">
    <link rel="stylesheet" href="../../notebooks/style.css">
</head>

<body>
    <header>
        <ul>
            <li onclick='window.location.href="https://github.com/yelloxing/yelloxing.github.io"'>离线小助手</li>
            <li onclick='window.location.href="../../index.html#/apis"'>API查询</li>
            <li onclick='window.location.href="../../index.html#/notebooks"'>文档笔记</li>
            <li onclick='window.location.href="../../index.html#/tools"'>小工具</li>
            <li onclick='window.location.href="../../index.html#/subjects"'>专题学习</li>
            <li onclick='window.location.href="../../index.html#/components"'>常用组件</li>
            <li onclick='window.location.href="../../index.html#/mores"'>更多</li>
            <li>
                <input type="text" placeholder="search...">
            </li>
        </ul>
    </header>
    <em class='position'>当前位置：更多 / 数据可视化技术 / D3.js系统学习随手笔记 / [01] 初识绘图流程和基本思想</em>
    <section>
        <div class="title">主体思想</div>
        <div class="block">
            D3.js就是一个和Jquery类似的Javascript库，其提供了很多有用的方法来用于数据可视化。
        </div>
        <div class="block">
            绘制图形的大致思想是：提供的布局（很多种布局）系列方法把数据转换成容易绘制的格式，然后调用绘图方法绘制图形，并且还可以使用额外的动画、交互等提供更友好的体验。
        </div>
    </section>
    <section>
        <div class="title">几个重要的概念</div>
        <div class="block">
            下面说明绘图过程中比较常用的相关知识。
        </div>
        <div class="name">
            比例尺
        </div>
        <div class="block">
            通俗的理解比例尺就是一个映射关系（比如你要绘制一个折线图，实际数值是0-10000，绘制的图形高度是0-400，实际数据就需要通过比例尺转换成绘制时的高度），D3.js提供的比例尺很多，大致可以分为定量比例尺（连续的定义域）和序数比例尺（定义域不连续）。
        </div>
        <pre class="code">
var ordinal = d3.scaleOrdinal()
.domain([0, 1, 2, 3, 4])
.range(["red", "blue", "green", "yellow", "black"]);

//打印结果：red blue green yellow black
console.log(ordinal(0), ordinal(1), ordinal(2), ordinal(3), ordinal(4));</pre>
        <div class="block">
            d3.scaleOrdinal()方法是获取
            <em class="important">序数比例尺</em>，其中domain和range方便传入定义域和值域，最后返回一个获取转换后数据的函数。
        </div>
        <div class="name">
            布局
        </div>
        <div class="block">
            从字面上来看，就是把数据改造成适合绘制目标视图（希望展示的图形）的结构。D3.js提供的布局种类很多，通过这些布局将某种数据转换成另一种利于可视化的数据总是有益的。
        </div>
        <div class="block">
            比如你希望画一个饼状图，给你的数据是一个数组[ 7 , 3 , 3 , 4 , 2 ]，转变成弧度更容易绘制：
        </div>
        <pre class="code">
//获取饼状布局方法
var pie = d3.pie();

//把数据转换成绘制饼状图需要的弧度
var piedata = pie([ 7 , 3 , 3 , 4 , 2 ]);

console.log(piedata);</pre>
        <div class="block">
            打印结果：
        </div>
        <img src="../../image/layout.png" alt="饼状布局">
        <div class="block">
            计算出来的数据标记了开始和结束的弧度，很方便画饼状图。
        </div>
    </section>
    <footer>
        Copyright&copy;离线小助手 2018 心叶
    </footer>
</body>

</html>