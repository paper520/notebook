<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="shortcut icon" href="./clay.png" type="image/x-png">
    <link rel="stylesheet" href="./libs/easycss-1.3.1.min.css">
    <link rel="stylesheet" href="frame.css">
    <script src="./libs/clay.js"></script>
    <title>文档 - clay.js</title>
    <script>

        function loadpage(url) {

            // 修改页面
            document.getElementsByTagName('iframe')[0].src = "./apis/" + url + ".html";
            window.location.href = "#/" + url;

            // 修改选中
            var lis = $$('li[onclick]'), flag;
            for (flag = 0; flag < lis.length; flag++) {
                if (lis.eq(flag).attr('onclick') == "loadpage(\"" + url + "\")") {
                    lis.eq(flag).attr('statue', 'selected');
                } else {
                    lis.eq(flag).attr('statue', 'none');
                }
            }

        }

        function showInfo() {
            if (window.confirm("温馨提示：本项目是为了提供更友好的数据可视化解决方案而建立的，你是否想进入项目，帮助我们改进代码或提出宝贵的意见？")) {
                window.location.href = "http://git.csii.com.cn/vxu/trunk/vx-inner-project/clay.js";
            }
        }

    </script>
</head>

<body onresize="changeSize()">
    <div class="menu-frame" id='menu-frame'>
        <header onclick='showInfo()'>
            clay.js / API
        </header>
        <input type="text" placeholder="Type to filter" onkeyup='doSearch(this.value)'>
        <span>说明&amp;指南</span>
        <label>快速开始</label>
        <ul>
            <li onclick='loadpage("quickstart/environment")'>初始化环境</li>
            <li onclick='loadpage("quickstart/example")'>简单例子</li>
        </ul>
        <label>基本说明</label>
        <ul>
            <li onclick='loadpage("course/node_and_data")'>结点和数据操作</li>
            <li onclick='loadpage("course/layout")'>布局的使用</li>
            <li onclick='loadpage("course/layer_and_region")'>图层、区域管理者</li>
        </ul>
        <span>基本接口</span>
        <label>结点对象</label>
        <ul>
            <li onclick='loadpage("clayobject/node")'>基本的结点操作</li>
            <li onclick='loadpage("clayobject/tool")'>有益的方法</li>
            <li onclick='loadpage("clayobject/node_and_data")'>数据绑定</li>
            <li onclick='loadpage("clayobject/event")'>事件绑定</li>
        </ul>
        <label>工具类</label>
        <ul>
            <li onclick='loadpage("tool/color")'>色彩相关</li>
            <li onclick='loadpage("tool/animation")'>轮询</li>
            <li onclick='loadpage("tool/layer_and_region")'>图层和区域管理者</li>
            <li onclick='loadpage("tool/xhr")'>XHR 请求</li>
        </ul>
        <label>计算&amp;求值</label>
        <ul>
            <li onclick='loadpage("calculate/transform")'>坐标变换</li>
            <li onclick='loadpage("calculate/interpolate")'>曲线插值</li>
            <li onclick='loadpage("calculate/matrix4")'>Matrix4矩阵</li>
            <li onclick='loadpage("calculate/map")'>地球坐标映射</li>
        </ul>
        <label>比例尺</label>
        <ul>
            <li onclick='loadpage("scaleRuler/linear")'>线性比例尺</li>
            <li onclick='loadpage("scaleRuler/ordinal")'>序数比例尺</li>
            <li onclick='loadpage("scaleRuler/quantize")'>量化比例尺</li>
            <li onclick='loadpage("scaleRuler/band")'>分段比例尺</li>
            <li onclick='loadpage("scaleRuler/time")'>时间比例尺</li>
        </ul>
        <label>基本图形</label>
        <ul>
            <li onclick='loadpage("graphics/object")'>绘图对象</li>
            <li onclick='loadpage("graphics/arc")'>圆弧 arc</li>
            <li onclick='loadpage("graphics/bezier")'>贝塞尔曲线 bezier</li>
            <li onclick='loadpage("graphics/line")'>曲线 line</li>
            <li onclick='loadpage("graphics/text")'>文字 text</li>
            <li onclick='loadpage("graphics/rect")'>矩形 rect</li>
            <li onclick='loadpage("graphics/polygon")'>多边形 polygon</li>
        </ul>
        <label>布局</label>
        <ul>
            <li onclick='loadpage("layout/tree")'>tree 树布局</li>
            <li onclick='loadpage("layout/pie")'>pie 饼布局</li>
        </ul>
        <label>绘图计算</label>
        <ul>
            <li onclick='loadpage("layout/calc/arc")'>arc 画圆弧辅助计算</li>
            <li onclick='loadpage("layout/calc/tree")'>tree 画树辅助计算</li>
        </ul>
        <label>WebGL</label>
        <ul>
            <li onclick='loadpage("webgl/core")' class='beta'>绘图对象</li>
            <li onclick='loadpage("webgl/shader")' class='beta'>着色器</li>
            <li onclick='loadpage("webgl/buffer")' class='beta'>缓冲区</li>
            <li onclick='loadpage("webgl/texture")' class='beta'>纹理</li>
        </ul>
        <label>扩展</label>
        <ul>
            <li onclick='loadpage("extend/config")'>配置文件</li>
            <li onclick='loadpage("extend/service")'>可注入服务和this</li>
            <li onclick='loadpage("extend/component")'>自定义组件</li>
        </ul>
        <footer onclick='window.location.href="http://git.csii.com.cn/vxu/trunk/vx-inner-project/clay.js"'>
            Fork Me On GitLab
        </footer>
    </div>
    <iframe frameborder="0"></iframe>
</body>

<script>

    window.setTimeout(function () {
        loadpage(window.location.href.replace(/[^#]*(#\/){0,1}/, '') || "quickstart/environment");
    }, 200);

    var lis = document.getElementsByTagName('li'), i;
    function doSearch(key) {
        for (i = 0; i < lis.length; i++) {
            if (new RegExp(key).test(lis[i].innerText)) {
                lis[i].style.display = 'block';
            } else {
                lis[i].style.display = 'none';
            }
        }
    }

    window.console && window.console.log && (console.log([
        '%c ',
        ' ',
        '我们的目标是：提供更友好的数据可视化解决方案。',
        ' '
    ].join('\n'), "color:#d66eac"),
        console.log("%cclay.js项目gitlab地址：http://git.csii.com.cn/vxu/trunk/vx-inner-project/clay.js", "color:#5292b2"));

</script>

<script>

    // 适配不同大小屏幕
    function changeSize() {
        var body = document.getElementsByTagName('body')[0],
            menu = document.getElementById('menu-frame'),
            iframe = document.getElementsByTagName('iframe')[0],
            scale,
            width = body.offsetWidth;
        if (width >= 1200) return;
        scale = width / 1200;

        // 缩放
        body.style.transform = "scale(" + scale + ")";

        // 恢复
        menu.style.height = (100 / scale) + "vh";
        iframe.style.height = (100 / scale) + "vh";
        iframe.style.width = "calc(" + (100 / scale) + "vw - 2.6rem)";
    }
    changeSize();

</script>

</html>

<!-- 走一步，再走一步。 -->
