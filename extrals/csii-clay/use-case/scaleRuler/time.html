<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="shortcut icon" href="../../clay.png" type="image/x-png">
    <title>clay.js - 用例测试 - 时间比例尺</title>
    <script src="../../libs/clay.js"></script>
</head>

<body></body>

<script>
    //测试内部方法
    var scale = clay.scaleTime();
    console.log(scale._parse('2019-10-20 16:30:06'));
    // 更改匹配模式,当其他参数没有设置时，YYYY=2019 MM=1 DD=1 hh=0 mm=0 ss=0
    scale.parse('YYYY年 MM月');
    console.log(scale._parse('2017年 01月'));
    scale.parse('hh-mm');
    console.log(scale._parse('13:30'));
    console.log(scale.parse());
    console.log(scale._format(new Date()));
    // 更改匹配模式
    scale.format('YYYY年 MM月 DD号');
    console.log(scale._format(new Date()));
    scale.format('hh时 mm分 ss秒');
    console.log(scale._format(new Date()));
    console.log(scale.format());

    console.log('---------------------');
    //测试核心方法
    var scale1=clay.scaleTime()
        .domain(['01月10号','01月20号'])
        .range([0,100])
        .parse('MM月DD号');
    console.log(scale1('01月10号'));// 0
    console.log(scale1('01月13号'));// 30
    console.log(scale1('01月04号'));// -60
    console.log(scale1('01月20号'));// 100
    scale1.format('DD日');
    console.log(scale1.invert(5));// 10日
    console.log(scale1.invert(10));// 11日
    console.log(scale1.invert(15));// 11日
    console.log(scale1.invert(-12));// 8日
    console.log(scale1.invert(118));// 21日
    scale1.parse('DD日 hh时').domain(['10日 00时','20日 00时']);
    console.log(scale1('15日 21时'));// 58.75
    console.log(scale1('09日 21时'));// 58.75
    scale1.format('DD号 hh:mm:ss');
    console.log(scale1.invert(58.75));
    console.log(scale1.invert(-10));
    scale1.format('MM月 DD号 hh:mm:ss');
    console.log(scale1.invert(1000)) // 04月 20号 00:00:00
</script>

</html>
