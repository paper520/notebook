<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../../libs/easycss-1.3.1.min.css">
    <link rel="stylesheet" href="../../libs/prettify.css">
    <link rel="stylesheet" href="../../doc.css">
    <script src="../../libs/prettify.js"></script>
</head>

<body onload="prettyPrint()">
<header>
    分段比例尺
</header>
<p>
    分段比例尺是一种特殊的序数比例尺，它的输入域是一组离散的数据（一组数组），输出域是一组连续的数据（一个范围）。分段比例尺通常用于包含序数或类别维度的条形图，例如：把['小米','华为','苹果']手机名字映射成图形宽度范围为[0，900]的条形图，下面就以这个例子来说明。
</p>
<h2>
    主要功能
</h2>
<img src="../../images/scaleBand2.png" width="400" alt="scaleBand说明"/>
<pre class='prettyprint lang-js'>var scale=clay.scaleBand().domain(['小米','华为','苹果']).range([0,900]).padding(0,0);</pre>
<p>
    上面的domain方法用于设置定义域数组，range设置值域范围，映射关系如下：小米->(0-300),华为->(300-600),苹果->(600-900)。（注意这里设置内外间隔都为0）
</p>
<pre class='prettyprint lang-js'>var bandRange=scale('华为');// bandRange=[300,600]</pre>
<p>
    当我们向这个比例尺传入'华为'参数时，则会返回对应的分段范围。
</p>
<br>
<h2>
    其它功能
</h2>
<h4>invert</h4>
<pre class='prettyprint lang-js'>var name=scale.invert(400);// name='华为'</pre>
<p>
    这是一个反向的映射，从上面可以看到，当我们向invert方法传入 400 参数时，则会返回对应的手机名字。
</p>
<h4>paddingOuter</h4>
<img width=600 src="../../images/scaleBand1.png" alt="scaleBand说明" >
<pre class='prettyprint lang-js'>scale.paddingOuter(20);</pre>
<p>
    如果指定了参数，如右图所示，将第一个分段之前与最后一个分段之后的间隔设置为指定的大小，参数以px为单位。如果没有指定则返回默认值（10）,或者之前指定好的值。
</p>
<h4>paddingInner</h4>
<pre class='prettyprint lang-js'>scale.paddingInner(10);</pre>
<p>
    如果指定了参数，如右图所示，将分段之间的间隔设置为指定的大小，参数以px为单位。如果没有指定则返回默认值（5）,或者之前指定好的值。
</p>
<h4>padding</h4>
<pre class='prettyprint lang-js'>scale.padding(20,10);</pre>
<p>
    同时指定paddingOuter与paddingInner的方法，第一个参数为outer,第二个为inner。
</p>
<h4>bandwidth</h4>
<pre class='prettyprint lang-js'>var barWidth=scale.bandwidth();// barWidth=280</pre>
<p>
    同时指定paddingOuter与paddingInner的方法，第一个参数为outer,第二个为inner。
</p>
<h2>
    补充说明
</h2>
<h4>
    区间闭合
</h4>
<p>
    start闭合,end不闭合，即对于[0,300]，当比例尺的invert方法参数为0时返回'小米'，为300时返回'华为'。
</p>
<h4>
    当传递的参数不在domain或者range中
</h4>
<p>
    当传递的参数不在domain或者range中，这时应该遵循未定义原则，即scale.invert（1000）->undefined。invert方法同理。
</p>
<h4>
    使用invert方法时,如果传递的参数映射到了padding
</h4>
<p>
    使用invert方法时,如果传递的参数映射到了padding，这时应该遵守对应原则，即返回 undefined。
</p>
</body>
