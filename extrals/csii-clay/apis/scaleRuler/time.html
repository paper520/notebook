<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../../libs/easycss-1.3.1.min.css">
    <link rel="stylesheet" href="../../libs/prettify.css">
    <link rel="stylesheet" href="../../doc.css">
    <script src="../../libs/prettify.js"></script>
</head>

<body onload="prettyPrint()">
<header>
    时间比例尺
</header>
<p>
    时间比例尺是一种线性比例尺的变体，它的输入域是一组连续的数据（一个范围），输出域也是一组连续的数据（一个范围），不同的是时间比例尺会把输入域的值以及输入转换成js时间对象。 例如：时间比例尺可以把一段连续的日期['01月10号','01月20号']，映射成一段连续的物理长度[0,100]，下面就以这个例子来说明。
</p>
<h2>
    主要功能
</h2>
<pre class='prettyprint lang-js'>var scale=clay.scaleTime()
        .domain(['01月10号','01月20号'])
        .range([0,100])
        .parse('MM月DD号');</pre>
<p>
    上面的domain方法用于设置定义域范围，range设置值域范围,这样一段连续的日期就被映射成了一段连续的物理长度。其他的方法下面会说明。
</p>
<pre class='prettyprint lang-js'>var length=scale('01月14号');// length=40</pre>
<p>
    当我们向这个比例尺传入'01月14号'参数时，则会返回对应的长度40。
</p>
<h2>
    其它功能
</h2>
<h4>parse</h4>
<pre class='prettyprint lang-js'>
    scale.parse('DD日 hh时').domain(['10日 00时','20日 00时'])
    var length=scale('15日 21时');// length=58.75
</pre>
<p>
    parse方法用来设置输入的表示时间的字符串的格式，其中有6个候选项：'YYYY'->年,'MM'->月,'DD'->日,'hh'->时,'mm'->分,'ss'->秒，需要注意的是输入的日期格式一定要有4位或者2位，例如：只能写2018年，不能写18年，只能写06分，不能写6分。在parse没有参数时，返回已经指定的日期格式，默认的为：'YYYY-MM-DD hh:mm:ss'。
</p>
<h4>format</h4>
<pre class='prettyprint lang-js'>
    scale.format('DD号 hh:mm:ss')
    var date=scale.invert(58.5);// date='15号 21:00:00'
</pre>
<p>
    format用于设置invert时输出的时间字符串格式，其中有6个候选项：'YYYY'->年,'MM'->月,'DD'->日,'hh'->时,'mm'->分,'ss'->秒，需要注意的是输入的日期格式一定要有4位或者2位，例如：只能写2018年，不能写18年，只能写06分，不能写6分。在format没有参数时，返回已经指定的日期格式，默认的为：'YYYY-MM-DD hh:mm:ss'。
</p>
<h4>invert</h4>
<pre class='prettyprint lang-js'>var date=scale.invert(58.5);// date='15号 21:00:00'</pre>
<p>
    这是一个反向的映射，从上面可以看到，当我们向invert方法传入 58.5 参数时，则会返回对应的时间字符串。
</p>
<h2>
    补充说明
</h2>
<h4>
    使用parse时，只指定了月份和日期，其年份和时间如何
</h4>
<p>
    6个候选项，如果没有指定，默认的是：YYYY=2019 MM=1 DD=1 hh=0 mm=0 ss=0
</p>
<h4>
    关于格式
</h4>
<p>
    parse和domain、scale()搭配，即在parse上设置了什么格式，domain和scale()就要使用什么格式。
    format和invert搭配，即在format上设置了什么格式，invert输出的就是什么格式。
</p>
<h4>
    关于边界
</h4>
<p>
    如果输入的值超出了domain和range的范围，那么应该遵守拓展原则，即scale('09日 21时')=-1.25，scale.invert(-10)='09号 00:00:00'
'</p>
</body>
